import{j as e}from"./ui-BB7AJorp.js";import{r}from"./router-BjkdSSQf.js";import{C as a,a as t,b as s,c as n,d as i}from"./card-BlF_U3Rh.js";import{T as o}from"./textarea-CD3w637i.js";import{m as c,B as l}from"./index-Bn5zWvGo.js";import{as as d,aA as m,ax as p,ay as x}from"./utils-DY8ls97K.js";import"./vendor-DJcYfsJ3.js";function h(){const[h,u]=r.useState(""),[j,y]=r.useState(""),[g,v]=r.useState(!1),f=e=>{const r=(new DOMParser).parseFromString(e,"text/xml"),a=r.querySelector("parsererror");if(a)throw new Error(a.textContent||"Invalid XML");return r};return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"mb-2 flex items-center gap-2",children:[e.jsx(d,{className:"h-8 w-8"}),"XML Formatter & Validator"]}),e.jsx("p",{className:"text-muted-foreground",children:"Format, validate, and minify XML documents"})]}),e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(s,{children:"XML Input"}),e.jsx(n,{children:"Paste your XML document here"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsx(o,{value:h,onChange:e=>u(e.target.value),placeholder:'<?xml version="1.0"?><root>...</root>',className:"font-mono min-h-[300px]"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(l,{onClick:()=>{try{f(h),y(""),x.success("XML is valid!")}catch(e){y(e instanceof Error?e.message:"Invalid XML"),x.error("Invalid XML")}},children:"Validate"}),e.jsx(l,{onClick:()=>{try{f(h);const e=(e=>{const r=" ".repeat(2);let a=e.replace(/(>)(<)(\/*)/g,"$1\n$2$3"),t=0;return a.split("\n").map(e=>{let a=0;return e.match(/.+<\/\w[^>]*>$/)?a=0:e.match(/^<\/\w/)&&t>0?t-=1:a=e.match(/^<\w[^>]*[^\/]>.*$/)?1:0,t+=a,r.repeat(t-a)+e}).join("\n")})(h);u(e),y(""),x.success("XML formatted successfully!")}catch(e){y(e instanceof Error?e.message:"Invalid XML"),x.error("Invalid XML - cannot format")}},variant:"secondary",children:"Format (Pretty)"}),e.jsx(l,{onClick:()=>{try{f(h);const e=h.replace(/>\s+</g,"><").trim();u(e),y(""),x.success("XML minified!")}catch(e){y(e instanceof Error?e.message:"Invalid XML"),x.error("Invalid XML - cannot minify")}},variant:"secondary",children:"Minify"}),e.jsx(l,{onClick:()=>{u('<?xml version="1.0" encoding="UTF-8"?>\n<bookstore>\n  <book category="web">\n    <title lang="en">Learning XML</title>\n    <author>Erik T. Ray</author>\n    <year>2003</year>\n    <price>39.95</price>\n  </book>\n  <book category="programming">\n    <title lang="en">JavaScript: The Good Parts</title>\n    <author>Douglas Crockford</author>\n    <year>2008</year>\n    <price>29.99</price>\n  </book>\n</bookstore>'),y("")},variant:"outline",children:"Load Sample"}),e.jsxs(l,{onClick:()=>{navigator.clipboard.writeText(h),v(!0),x.success("Copied to clipboard!"),setTimeout(()=>v(!1),2e3)},variant:"outline",children:[g?e.jsx(m,{className:"h-4 w-4 mr-2"}):e.jsx(p,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),j&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 rounded-lg bg-destructive/10 text-destructive border border-destructive/20",children:e.jsxs("p",{children:["Error: ",j]})}),!j&&h&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 rounded-lg bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:e.jsx("p",{children:"âœ“ Valid XML"})})]})]})]})}export{h as XMLTools};
