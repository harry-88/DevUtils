import{j as e}from"./ui-BB7AJorp.js";import{r as s}from"./router-BjkdSSQf.js";import{C as a,a as i,b as r,c as t,d as l}from"./card-BlF_U3Rh.js";import{m as c,B as n}from"./index-Bn5zWvGo.js";import{L as d,I as o}from"./input-CAGNdPJU.js";import{au as m,aF as h,aG as u,ay as x}from"./utils-DY8ls97K.js";import"./vendor-DJcYfsJ3.js";function g(){const[g,j]=s.useState(""),[p,f]=s.useState(""),[y,N]=s.useState(800),[w,v]=s.useState(600),[b,I]=s.useState(.8),C=s.useRef(null),R=(e,s)=>{if(!g)return;const a=new Image;a.onload=()=>{const i=a.width/a.height;"width"===e?(N(s),v(Math.round(s/i))):(v(s),N(Math.round(s*i)))},a.src=g};return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"mb-2 flex items-center gap-2",children:[e.jsx(m,{className:"h-8 w-8"}),"Image Compressor & Resizer"]}),e.jsx("p",{className:"text-muted-foreground",children:"Resize and compress images for web use"})]}),e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(r,{children:"Upload Image"}),e.jsx(t,{children:"Select an image file to process"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:e=>{const s=e.target.files?.[0];if(!s)return;if(!s.type.startsWith("image/"))return void x.error("Please upload an image file");const a=new FileReader;a.onload=e=>{const s=new Image;s.onload=()=>{j(e.target?.result),N(s.width),v(s.height),x.success("Image uploaded!")},s.src=e.target?.result},a.readAsDataURL(s)},className:"hidden"}),e.jsxs(n,{onClick:()=>C.current?.click(),className:"w-full",variant:"outline",size:"lg",children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Choose Image"]}),g&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-4",children:e.jsx("div",{className:"border border-border rounded-lg p-4 bg-muted",children:e.jsx("img",{src:g,alt:"Original",className:"max-w-full h-auto rounded"})})})]})]}),g&&e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(r,{children:"Resize Options"}),e.jsx(t,{children:"Adjust dimensions and quality"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"width",children:"Width (px)"}),e.jsx(o,{id:"width",type:"number",value:y,onChange:e=>R("width",Number(e.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"height",children:"Height (px)"}),e.jsx(o,{id:"height",type:"number",value:w,onChange:e=>R("height",Number(e.target.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"quality",children:["Quality: ",Math.round(100*b),"%"]}),e.jsx(o,{id:"quality",type:"range",min:"0.1",max:"1",step:"0.1",value:b,onChange:e=>I(Number(e.target.value))})]}),e.jsx(n,{onClick:()=>{if(!g)return;const e=new Image;e.onload=()=>{const s=document.createElement("canvas");s.width=y,s.height=w;const a=s.getContext("2d");if(!a)return;a.drawImage(e,0,0,y,w);const i=s.toDataURL("image/jpeg",b);f(i),x.success("Image resized!")},e.src=g},className:"w-full",children:"Apply Resize"})]})]}),p&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(r,{children:"Processed Image"}),e.jsxs(t,{children:[y,"x",w,"px â€¢ ",Math.round(100*b),"% quality"]})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("div",{className:"border border-border rounded-lg p-4 bg-muted",children:e.jsx("img",{src:p,alt:"Processed",className:"max-w-full h-auto rounded"})}),e.jsxs(n,{onClick:()=>{if(!p)return;const e=document.createElement("a");e.download=`resized-image-${y}x${w}.jpg`,e.href=p,e.click(),x.success("Image downloaded!")},className:"w-full",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Download Image"]})]})]})})]})}export{g as ImageTools};
