import{j as e}from"./ui-BB7AJorp.js";import{r as s}from"./router-BjkdSSQf.js";import{C as a,a as r,b as t,c as n,d as l}from"./card-BfpgXKAQ.js";import{T as i}from"./textarea-BCWsDfIM.js";import{m as c,B as d}from"./index-B46Iqk3q.js";import{T as o,a as x,b as m,c as j}from"./tabs-C6mEBNAl.js";import{ar as h,aA as u,ax as p,ay as f,az as N,aD as g}from"./utils-DY8ls97K.js";import"./vendor-DJcYfsJ3.js";function y(){const[N,g]=s.useState(""),[y,S]=s.useState(null),[O,b]=s.useState(""),[J,w]=s.useState(!1),k=e=>{navigator.clipboard.writeText(e),w(!0),f.success("Copied to clipboard!"),setTimeout(()=>w(!1),2e3)};return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"mb-2 flex items-center gap-2",children:[e.jsx(h,{className:"h-8 w-8"}),"JSON Tools"]}),e.jsx("p",{className:"text-muted-foreground",children:"Format, validate, and explore JSON data"})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(t,{children:"Input JSON"}),e.jsx(n,{children:"Paste your JSON data here"})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsx(i,{value:N,onChange:e=>g(e.target.value),placeholder:'{"name": "example", "value": 123}',className:"font-mono min-h-[200px]"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(d,{onClick:()=>{try{const e=JSON.parse(N);S(e),b(""),f.success("JSON is valid!")}catch(e){b(e instanceof Error?e.message:"Invalid JSON"),S(null),f.error("Invalid JSON")}},children:"Validate"}),e.jsx(d,{onClick:()=>{try{const e=JSON.parse(N),s=JSON.stringify(e,null,2);g(s),S(e),b(""),f.success("JSON formatted!")}catch(e){b(e instanceof Error?e.message:"Invalid JSON"),f.error("Invalid JSON - cannot format")}},variant:"secondary",children:"Format (Pretty)"}),e.jsx(d,{onClick:()=>{try{const e=JSON.parse(N),s=JSON.stringify(e);g(s),S(e),b(""),f.success("JSON minified!")}catch(e){b(e instanceof Error?e.message:"Invalid JSON"),f.error("Invalid JSON - cannot minify")}},variant:"secondary",children:"Minify"}),e.jsx(d,{onClick:()=>{const e={name:"John Doe",age:30,email:"john@example.com",address:{street:"123 Main St",city:"New York",country:"USA"},hobbies:["reading","coding","gaming"],isActive:!0},s=JSON.stringify(e,null,2);g(s),S(e),b("")},variant:"outline",children:"Load Sample"}),e.jsx(d,{onClick:()=>{g(""),S(null),b("")},variant:"outline",children:"Clear"})]}),O&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 rounded-lg bg-destructive/10 text-destructive border border-destructive/20",children:e.jsxs("p",{children:["Error: ",O]})}),y&&!O&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 rounded-lg bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:e.jsx("p",{children:"âœ“ Valid JSON"})})]})]}),y&&e.jsxs(o,{defaultValue:"tree",className:"space-y-4",children:[e.jsxs(x,{className:"grid w-full grid-cols-3",children:[e.jsx(m,{value:"tree",children:"Tree View"}),e.jsx(m,{value:"formatted",children:"Formatted"}),e.jsx(m,{value:"raw",children:"Raw"})]}),e.jsx(j,{value:"tree",children:e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(t,{children:"Tree View"}),e.jsx(n,{children:"Explore your JSON structure"})]}),e.jsx(l,{children:e.jsx(v,{data:y,name:"root",level:0})})]})}),e.jsx(j,{value:"formatted",children:e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Formatted JSON"}),e.jsx(n,{children:"Pretty-printed with indentation"})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>k(JSON.stringify(y,null,2)),children:J?e.jsx(u,{className:"h-4 w-4"}):e.jsx(p,{className:"h-4 w-4"})})]}),e.jsx(l,{children:e.jsx("pre",{className:"p-4 rounded-lg bg-muted overflow-x-auto text-sm",children:e.jsx("code",{children:JSON.stringify(y,null,2)})})})]})}),e.jsx(j,{value:"raw",children:e.jsxs(a,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Raw JSON"}),e.jsx(n,{children:"Minified single-line output"})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>k(JSON.stringify(y)),children:J?e.jsx(u,{className:"h-4 w-4"}):e.jsx(p,{className:"h-4 w-4"})})]}),e.jsx(l,{children:e.jsx("pre",{className:"p-4 rounded-lg bg-muted overflow-x-auto text-sm break-all whitespace-pre-wrap",children:e.jsx("code",{children:JSON.stringify(y)})})})]})})]})]})}function v({data:a,name:r,level:t}){const[n,l]=s.useState(t<2),i="object"==typeof a&&null!==a&&!Array.isArray(a),c=Array.isArray(a),d=e=>"string"==typeof e?`"${e}"`:null===e?"null":String(e);if(!i&&!c)return e.jsxs("div",{className:"flex gap-2 py-1 font-mono text-sm",style:{paddingLeft:20*t+"px"},children:[e.jsxs("span",{className:"text-muted-foreground",children:[r,":"]}),e.jsx("span",{className:(o=a,"string"==typeof o?"text-green-600 dark:text-green-400":"number"==typeof o?"text-blue-600 dark:text-blue-400":"boolean"==typeof o?"text-purple-600 dark:text-purple-400":null===o?"text-muted-foreground":""),children:d(a)})]});var o;const x=c?a:Object.entries(a),m=c?`Array[${a.length}]`:`Object{${Object.keys(a).length}}`;return e.jsxs("div",{style:{paddingLeft:20*t+"px"},children:[e.jsxs("button",{onClick:()=>l(!n),className:"flex items-center gap-1 py-1 hover:bg-accent rounded px-1 -ml-1 font-mono text-sm w-full text-left",children:[n?e.jsx(N,{className:"h-4 w-4 flex-shrink-0"}):e.jsx(g,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("span",{className:"text-muted-foreground",children:[r,":"]}),e.jsx("span",{className:"text-foreground",children:m})]}),n&&e.jsx("div",{children:c?x.map((s,a)=>e.jsx(v,{data:s,name:`[${a}]`,level:t+1},a)):x.map(([s,a])=>e.jsx(v,{data:a,name:s,level:t+1},s))})]})}export{y as JSONTools};
